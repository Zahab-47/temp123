html * {
  --titlebar-background: transparent !important;
  --titlebar-background-focused: transparent !important;
  --ribbon-background: transparent !important;
  --ribbon-background-collapsed: transparent !important;
  --collapsed-right-margin: 3px;
}

body {
  word-spacing: -0.04rem;
  letter-spacing: 0.01rem;
  -webkit-font-smoothing: antialiased !important;
}

/* Button hover adjustments */

@media (hover: hover) {
  button.mod-cta:hover {
    background-color: !important;
  }
}

/* Base text color */
.theme-light {
    --text-normal: rgb(64,64,64); /* Adjust this for light mode */
}

/* Fix clear field button for plugins */

.prompt-input-container .search-input-clear-button {
  margin-right: 48px;
}

.prompt-input-container .cmdr-name-input-wrapper button {
  margin-right: 9px;
}

/* Change bookmark color */

.clickable-icon.mod-filled svg {
  color: var(--interactive-accent);
  filter: brightness(100%) !important;
}


/* ------ LEFT SIDE BAR AND RIBBON ------ */

.workspace-ribbon.mod-left.is-collapsed {
  background-color: var(--status-bar-background) !important;
  --ribbon-width: 36px; /* Adjust the width as needed */
}

/* Hide ribbon icons when sidebar is collapsed */
.side-dock-ribbon.mod-left.is-collapsed .side-dock-ribbon-action {
  opacity: 0;
  transition: opacity 0.4s;
}

.side-dock-ribbon.mod-left.is-collapsed:hover .side-dock-ribbon-action {
  opacity: 1;
}

/* Hide ribbon when sidebar is expanded but make visible on hover */
.side-dock-ribbon.mod-left:not(.is-collapsed) .side-dock-ribbon-action {
  opacity: 0;
}

.side-dock-ribbon.mod-left:hover:not(.is-collapsed) .side-dock-ribbon-action {
  opacity: 1;
}

.side-dock-ribbon.mod-left {
}

/* === Border-Theme-styled Checkboxes  === */

body {
    /* Checkboxes */
    --checkbox-radius: var(--radius-l);
    --checkbox-size: var(--font-text-size);
    --checkbox-marker-color: var(--background-primary);
    --checkbox-color: var(--interactive-accent);
    --checkbox-color-hover: var(--interactive-accent);
    --checkbox-border-color: var(--text-faint);
    --checkbox-border-color-hover: var(--text-faint);
    --checklist-done-decoration: line-through;
    --checklist-done-color: var(--text-faint);
}

@media (hover: hover) {
    input[type=checkbox]:checked:hover {
        filter: brightness(1.075);
    }


    input[type=checkbox]:hover {
        outline-offset: 1.7px;
        outline: 1.3px solid var(--background-modifier-border-hover);
    }
}

input[type=checkbox] {
    transition: box-shadow var(--anim-duration-moderate) var(--anim-motion-swing), filter var(--anim-duration-moderate) var(--anim-motion-smooth);
    cursor: pointer;
}

input[type=checkbox]:checked:after {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg clip-path='url(%23a)'%3e%3cpath fill='black' d='M15.53 2.41a1.5 1.5 0 0 1 .06 2.12l-8.5 9a1.501 1.501 0 0 1-2.15.03l-4.5-4.5a1.5 1.5 0 0 1 2.12-2.12l3.41 3.408 7.44-7.878a1.5 1.5 0 0 1 2.12-.06Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath fill='white' d='M0 0h16v16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");
}

input.metadata-input-checkbox {
  margin-top:  6.3px;
}

/* Affects ribbon only when expanded */

.side-dock-ribbon {
  --ribbon-width: 26px; /* Adjust the width as needed */
  padding: 9px 0px 0px 0px;
  margin: 0px -1px 0px 2px;
  background-color: var(--status-bar-background);
}

/* Side ribbon button height and surrounding margin */
.workspace-ribbon.side-dock-ribbon.mod-left.is-collapsed {
  margin: 45.5px 0px 0px 1.9px;
}

/* Collapse button for file explorer position */
.sidebar-toggle-button.mod-left {
  margin: 0.65px 0px 0px 1.75px;
}

.sidebar-toggle-button.mod-left svg {
  height: 17px;
  width: 17px;
}

.workspace-split.mod-horizontal.mod-sidedock.mod-left-split.is-sidedock-collapsed {
  margin: 0px 0px 0px 1.5px;
}

/* Hover effect over icons in ribbon scale */

.theme-light .side-dock-ribbon .clickable-icon:hover svg {
  color: var(--interactive-accent);
  filter: brightness(100%);
}

/* Icons in ribbon scale */
.theme-light .side-dock-ribbon svg {
  height: 17px;
  width: 17px;
  color: var(--metadata-border-color);
  filter: brightness(70%);
}

.theme-dark .side-dock-ribbon svg {
  height: 17px;
  width: 17px;
  filter: brightness(40%);
}

.clickable-icon {
  color: solid var(--background-modifier-border);
}

.theme-light .clickable-icon.view-action svg {
  color: var(--metadata-border-color);
  filter: brightness(70%);
}


/* WORKSPACE */ 

.workspace {
  background-color: var(--background-secondary);
}

.workspace-ribbon,
.workspace-leaf-resize-handle {
  border: none !important;
}

.workspace-leaf {
  border-radius: 8px;
  border: 0;
}

/* Adding border to the main workspace leaf */

.mod-root .workspace-leaf {
  border-bottom: 1px solid var(--divider-color);
  border-left: 1px solid var(--divider-color);
  border-right: 1px solid var(--divider-color);
  /* contain is to fix the border-right getting cut off when right collapsed */
  contain: size !important;
  margin-right: 0px;
  padding-right: 0px;

}

/* --- Divider lines between tabs --- */

  width: 1px;
  filter: brightness(107%);

/* --- Tab note titles --- */

.workspace-tab-header .tooltip {
  color: red !important;
  background-color: red;
}

/* --- Info pop-ups --- */

.tooltip {
  color: var(--interactive-accent);
  background-color: #FDFDFD;
}

/* -- -- -- -- -- -- -- */

.workspace-tab-header-inner-title {
  text-align: center;
}

.mod-root .workspace-tab-header-container-inner {
  padding: 2px 15px 0; /* shortens active tab header height */
}

/* --- Ensure active tab overlays the leaf borders --- */

.workspace-split.mod-root .workspace-tab-header.is-active {
  position: relative; /* Necessary for z-index to take effect */
  z-index: 2; /* Higher than the workspace leaf */
}

/* Adding the top border specifically for elements other than the active tab */

.mod-root .workspace-leaf:not(.is-active) {
  border-top: 1px solid var(--divider-color);
}

/* contain is to fix the border-right getting cut off when right collapsed */

.workspace-split.mod-root .view-content {
  background-color: inherit !important;
}

.mod-root .view-content {
  border-top: 1px solid var(--divider-color);
}

/* --- This is the gap between split workspaces --- */
.workspace-split {
  background-color: transparent !important;
  gap: 0px 7px;
}

body .mod-right-split {
  --background-secondary: initial !important;
}

/* RIGHT PANE */

.clickable-icon.nav-action-button[aria-label="Show nested tags"]:hover svg.svg-icon.lucide-folder-tree,
.clickable-icon.nav-action-button[aria-label="Expand all"]:hover svg.svg-icon.lucide-chevrons-up-down {
  color: var(--text-muted);
  filter: brightness(90%);
}

.clickable-icon.nav-action-button[aria-label="Show nested tags"] svg.svg-icon.lucide-folder-tree,
.clickable-icon.nav-action-button[aria-label="Expand all"] svg.svg-icon.lucide-chevrons-up-down {
}

.clickable-icon.nav-action-button[aria-label="Show nested tags"].is-active {
  color: var(--interactive-accent);
  filter: brightness(100%);
}

/* chevrons in right pane */

/* Tag container chevrons */
.tag-container .tree-item-self.is-clickable.mod-collapsible:hover svg.svg-icon.right-triangle {
  color: var(--interactive-accent);
  filter: brightness(110%) !important;
}

.tag-container .tree-item-icon.collapse-icon.is-collapsed svg.svg-icon.right-triangle {
  color: var(--background-primary);
  filter: brightness(90%) !important;
}

.tag-container .tree-item-icon.collapse-icon:not(.is-collapsed) svg.svg-icon.right-triangle {
  color: var(--background-primary);
  filter: brightness(60%) !important;
}


/* --- container: files, search, bookmarks adjust --- */

.workspace-tab-header.is-active .workspace-tab-header-inner-icon svg.svg-icon {
  color: var(--interactive-accent) !important;
  filter: brightness(100%) !important;
}

.mod-left-split .workspace-tab-header-container-inner, 
.mod-right-split .workspace-tab-header-container-inner {
  gap: 0px;        /* Sets the gap between elements inside the container to 1px */
  margin-left: 1px;  /* Sets the left margin of the container to 1px */
}

.mod-left-split .workspace-tab-header-container-inner {
  gap: 0.4px;
  padding: 3px 0 8px;
}


.workspace-tab-header-container {
  background-color: var(--background-secondary);
  border-bottom: initial;
}

.workspace-ribbon.mod-left:before {
  border: initial;
  background: var(--size-4-2);
}

.workspace-ribbon.mod-left.is-collapsed {
  --titlebar-background-focused: transparent !important;
}

.sidebar-toggle-button.mod-right {
  background-color: var(--size-4-2) !important;
}

.status-bar {
  --status-bar-position: static;
  border: none;
  border-radius: 0%;
}

/* Fixing indent guides alignment in reader mode */

.markdown-rendered.show-indentation-guide li > ul::before,
.markdown-rendered.show-indentation-guide li > ol::before {
  left: -12px;
}

/* Used to apply a right margin when the right sidebar is collapsed */

.workspace:not(.is-right-sidedock-open) > .mod-root {
  margin-right: var(--collapsed-right-margin) !important;
}

.workspace:not(.is-right-sidedock-open) * .sidebar-toggle-button {
  margin-right: calc(0px - var(--collapsed-right-margin)) !important;
}

.mod-root .workspace-tab-header-container:after {
  margin-right: calc(0px - var(--collapsed-right-margin));
}

/* Fix tag misalignment */

.cm-hashtag-begin {
  display: inline-block;
  line-height: unset !important;
}

/* Fix tag misalignment */

.cm-hashtag-end {
  display: inline-block;
}

.clickable-icon[aria-label="New note"],
.clickable-icon[aria-label="New folder"],
.clickable-icon[aria-label="Change sort order"],
.clickable-icon[aria-label="Collapse all"] {
  padding: 2px;
  margin: 1.4px;
  border: 1.1px solid var(--divider-color);
  filter: brightness(92%);
  border-radius: 5px;
  width: 120px;
  height: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
}

/* Add hover effect to change text color directly on icons */
.clickable-icon[aria-label="New note"]:hover, 
.clickable-icon[aria-label="New folder"]:hover, 
.clickable-icon[aria-label="Change sort order"]:hover, 
.clickable-icon[aria-label="Collapse all"]:hover {
    color: var(--text-muted); /* Darker color for text on hover */
    filter: brightness(90%);
}

.clickable-icon[aria-label="New note"]::before,
.clickable-icon[aria-label="New folder"]::before,
.clickable-icon[aria-label="Change sort order"]::before,
.clickable-icon[aria-label="Collapse all"]::before {
  padding: 5px 5px;
  font-size: 12px;
}

.clickable-icon[aria-label="New note"]::before {
  content: "Create";
}

.clickable-icon[aria-label="New folder"]::before {
  content: "New Folder";
}

.clickable-icon[aria-label="Change sort order"]::before {
  content: "Sort";
}

.clickable-icon[aria-label="Collapse all"]::before {
  content: "Collapse";
}

.clickable-icon.nav-action-button {
  color: var(--nav-collapse-icon-color);
  filter: brightness(99%);

}

.nav-buttons-container {
  margin-top: 1px;
  margin-right: 1px;
  margin-bottom: 1px;
  margin-left: 1px;
}

/* --- TOOLBAR PLUGIN Settings --- */

#cMenuToolbarModalBar {
  margin-right: 0px;
  border-radius: 0px;
  position: static !important;
  margin-left: -1px;
  margin-right: -12px;
  padding-right: 24px;
  filter: brightness(108%);
}

#cMenuToolbarModalBar svg.svg-icon {
  background-color:;
  color: var(--nav-collapse-icon-color);
  filter: brightness(90%);
  background-color: transparent;
}

#cMenuToolbarModalBar.top :is(.cMenuToolbarCommandItem, button[class^=cMenuToolbarCommandsubItem]):not(.cMenuToolbar-Divider-Line) {
  background-color:;
  color: var(--nav-collapse-icon-color);
  filter: brightness(95%);
  background-color: transparent;

}

/* BOTTOM RIGHT buttons */

.nav-file-icon .svg-icon, .suggestion-flair .svg-icon, .menu-item-icon .svg-icon, .status-bar-item .svg-icon {
  color: var(--nav-collapse-icon-color);
  filter: brightness(98%);

}

/* Above note and right of tab */

.workspace-tab-header-tab-list .clickable-icon, .workspace-tab-header-new-tab .clickable-icon:hover {
    color: var(--metadata-border-color); /* Change color on hover */
    filter: brightness(45%); /* Adjust brightness */
}

/* chevrons above note */

.workspace-tab-header-tab-list .clickable-icon svg.svg-icon:hover {
    color: var(--metadata-border-color); /* Change color on hover */
    filter: brightness(45%); /* Adjust brightness */
}

.workspace-tab-header-tab-list .clickable-icon, .workspace-tab-header-new-tab .clickable-icon {
  color: var(--nav-collapse-icon-color);
  filter: brightness(60%);
}

/* files, search, and bookmarks icons */

.workspace-tab-header-inner .workspace-tab-header-inner-icon {
 color: var(--nav-collapse-icon-color);
  filter: brightness(98%);
}

/* ----- ABOVE NOTE BUTTONS ----- */

/* Add hover effect to change text color */
.clickable-icon.view-action[aria-label^="Current view"]:hover, 
.clickable-icon.view-action[aria-label="More options"]:hover {
  color: var(--metadata-border-color); /* Darker color for text on hover */
  filter: brightness(40%);
}

button.clickable-icon.view-action[aria-label^="Current view:"],
button.clickable-icon.view-action[aria-label="More options"] {
  justify-content: center;
  align-items: center;
  text-decoration: none;
}

button.clickable-icon.view-action[aria-label^="Current view:"] {
  width: 125px;
  height: 40px;
  margin: 0px -10px 0px 0px; /* keeps button close to others */
  padding: 3px;
  margin-left: 3px;
  border: 0px solid var(--divider-color);
  border-radius: 5px;
  box-sizing: border-box;
  height: 65%;
  width: 30%;
  color: var(--metadata-border-color);
  filter: brightness(72%);

}

/* Change View icon adjustment */

button.clickable-icon.view-action[aria-label^="Current view:"] svg.svg-icon.lucide-book-open:hover {
  color: var(--metadata-border-color);
  filter: brightness(20%) !important;
}

button.clickable-icon.view-action[aria-label^="Current view:"] svg.svg-icon.lucide-book-open {
  color: var(--metadata-border-color);
  filter: brightness(100%);
}

button.clickable-icon.view-action[aria-label^="Current view:"] svg.svg-icon.lucide-edit-3:hover {
  color: var(--metadata-border-color);
  filter: brightness(20%) !important;
}

button.clickable-icon.view-action[aria-label^="Current view:"] svg.svg-icon.lucide-edit-3 {
  color: var(--metadata-border-color);
  filter: brightness(100%);
}

button.clickable-icon.view-action[aria-label^="Current view:"]::before {
  content: "Change View";
  justify-content: center;
  margin-right: 5.8px;
  font-size: 11.8px;
  color: var(--metadata-border-color);
  filter: brightness(100%);
  text-decoration: none;
  text-shadow: .1px .1px .3px var(--divider-color);
  padding: 0px 1px 0px 0px;

}

button.clickable-icon.view-action[aria-label^="Current view:"]:hover::before {
  filter: brightness(60%);
}


button.clickable-icon.view-action[aria-label="More options"] {
  margin-left: 14px;
  color: var(--metadata-border-color);
  filter: brightness(100%);
  margin-right: 16px;
  margin-left: 19px;

}



/* All the COMMANDER plugin buttons */

button.clickable-icon.view-action { 
  padding: 3.5px; 
  flex-shrink: 1 0;
}

button.clickable-icon.view-action.cmdr-page-header {
  color: var(--metadata-border-color);
  filter: brightness(100%);
}

/* Add hover effect to change text color */
.clickable-icon.view-action.cmdr-page-header:hover {
  color: var(--metadata-border-color); /* Darker color for text on hover */
  filter: brightness(45%);
}

/* Side pane toggle color */

.clickable-icon svg.svg-icon.sidebar-right {
  color: var(--nav-collapse-icon-color);
  filter: brightness(108%);
}

.sidebar-toggle-button .clickable-icon:hover svg {
    color: var(--metadata-border-color); /* Change color on hover */
    filter: brightness(40%); /* Adjust brightness */
}

.clickable-icon svg.svg-icon.sidebar-left {
  color: var(--nav-collapse-icon-color);
  filter: brightness(108%);
}

/* Hover effect for the SVG icon within the left sidebar toggle button */
.sidebar-toggle-button.mod-left .clickable-icon:hover svg {
    color: var(--metadata-border-color); /* Change color on hover */
    filter: brightness(40%); /* Adjust brightness */
}

.tooltip .tooltip-arrow {
  position: absolute;
  top: -5px;
  left: 50%;
  width: 0;
  margin-left: -5px;
  border-bottom: 5px #FDFDFD;
  border-right: 5px #FDFDFD;
  border-left: 5px #FDFDFD;
  content: " ";
  font-size: 0;
  line-height: 0;
}

/* ----- FILE / NAV TREE - File Explorer ----- */

/* New vault switcher bar*/

body:not(.is-mobile) .workspace-split.mod-left-split:hover .workspace-sidedock-vault-profile {
  opacity: 1;
  visibility: initial;
}

body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile {
  padding-top: 1px;
  visibility: hidden;
  opacity: 0;
  transition: visibility 0.4s ease, opacity 0.4s ease;

}

workspace-drawer-vault-switcher {
  color: var(--nav-collapse-icon-color);
}

.workspace-drawer-vault-name:hover {
  color: var(--interactive-accent) !important;
    filter: brightness(100%) !important;
}

workspace-drawer-vault-switcher:hover {
  color: var(--nav-collapse-icon-color);
  filter: brightness(45%);
}

.workspace-drawer-vault-switcher:hover .workspace-drawer-vault-name {
  color: var(--nav-collapse-icon-color);
  filter: brightness(45%);
}

.workspace-drawer-vault-name {
  color: var(--nav-collapse-icon-color);
}

/* Vault switcher text color */
.workspace-drawer-header-name {
  color: var(--nav-collapse-icon-color);
}

/* Vault switcher text color on hover */
.workspace-drawer-header-name:hover {
  color: var(--nav-collapse-icon-color);
  filter: brightness(45%);
}
.workspace-leaf-content .workspace-split.mod-left-split .nav-buttons-container {
  align-items: flex-start;
}

/* Style for the nav-files-container */
.nav-files-container {
    padding-right: 1px !important;
    margin-bottom: 0px !important;

}

/* Remove bottom border on hover */
body:not(.is-mobile) .workspace-split.mod-left-split:hover .nav-files-container {
    border-bottom: 1px solid transparent;
}

/* Create a little more space between folders specifically */

.tree-item.nav-folder {
  background-color: ;
  margin: 0px 0px 4px 0px;
}

.tree-item.nav-file:hover {
    background-color: ;
}

.tree-item-self.is-clickable.mod-collapsible.nav-folder-title {
  filter: brightness(90%);
}

/* -- Change the color of the active file title -- */

body:not(.is-grabbing) .tree-item-self.is-active .nav-file-title-content
 {
  color: var(--interactive-accent);
  filter: brightness(100%);
}

/* Reposition unnested file titles */

.nav-folder-children > .nav-file > .nav-file-title {
    padding-left: 24px; /* Adjust to match the indentation of nested folders */
}

/* Style for the parent folder of the active file */

body:not(.is-grabbing) .nav-folder-title:has(+ .nav-folder-children .tree-item-self.is-active) {
  color: var(--interactive-accent);
  filter: brightness(100%);
}

/* If you also want to style all ancestor folders, not just the immediate parent */

body:not(.is-grabbing) .nav-folder:has(.tree-item-self.is-active) > .nav-folder-title {
  color: var(--interactive-accent);
  filter: brightness(100%);
  border: 1px solid var(--divider-color);
  border-radius: 5px;
}

/* folder/file full width of container */

.tree-item-self .is-clickable .nav-file-title.tappable {
    margin-inline-start: 0px !important;
    padding-inline-start: 0px !important;
}


.mod-root.nav-folder-children {
    margin-inline-start: 0px !important;
    padding-inline-start: 0px !important;

}

/* folder name/text colors */

.tree-item-self {
  background-color: ;
  color: ;
}

/* file tree chevrons */

.tree-item-self.is-clickable.mod-collapsible.nav-folder-title:hover svg.svg-icon.right-triangle {
  color: var(--interactive-accent);
  filter: brightness(110%) !important;
}

.tree-item-icon.collapse-icon.nav-folder-collapse-indicator.is-collapsed svg.svg-icon.right-triangle {
  color: var(--background-primary);
  filter: brightness(90%) !important;
}

.tree-item-icon.collapse-icon.nav-folder-collapse-indicator::before svg.svg-icon.right-triangle {
  color: var(--background-primary);
  filter: brightness(60%) !important;
}



/* Farthest left line in file tree */

.nav-folder-children {
  padding-left: 0;
  margin-left: 16px;
  border-left: none;
  margin-inline-start: 5px !important;
  padding-inline-start: 5px !important;
  border-radius: 5px;

}

.nav-folder-children {
  background-color: #F1F0F0;
}


/* Next-to-leftmost lines in file tree */


.nav-folder-children .nav-folder-children {
  border-left: none;
  padding-left: 0;
    margin-inline-start: 5px !important;
    padding-inline-start: 5px !important;
    margin-inline-start: 5px !important;
    padding-inline-start: 5px !important;
  background-color: #FBFBFB;
  border-radius: 5px;
  z-index: 5;

}


/* Changes the text color of the active file title in the navigation tree */

.nav-file-title-content {
  color: var(--metadata-border-color);
  filter: brightness(61%);
}

/* untrimming filename in sidebars */
.nav-file-title-content {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    word-break: break-word !important;
}

/* file/folder text colors on hover */

.tree-item-self.is-clickable.nav-file-title.tappable:hover .nav-file-title-content {
  color: var(--interactive-accent);
  filter: brightness(100%);
}




/* ===== */

.view-header {
  flex-shrink: 1 0;

}

.view-header-title {
  position: fixed;
  display: none;
}

.view-header .view-actions {
  display: flex;
  flex-shrink: 1 0;
  align-items: center;
  padding-right: 0px;
  margin-right: -10px;
}

@media (max-width: 768px) {
  .view-header .view-actions {
    margin-right: -3px;
  }

.view-header-left {
  display: flex;
  justify-content: flex-start;
  margin-left: -10px;
}

.view-header-title-container.mod-at-start.mod-fade {
  margin: 0px 0px 0px 0px;
}


/* OTHER SETTINGS */

.workspace-leaf-content[data-type="file-explorer"] {
  margin: 0px -13px 0px -5px;
}

.workspace-tab-header-inner {
}

/* Resize leaf size handler */
.workspace-ribbon, .workspace-leaf-resize-handle {
padding-left: 4px;
}

.markdown-preview-view {
  margin: 0px 0px 0px 0px;
}

.workspace-tab-header-container {
  margin: 0px 0px 0px 0px;
  padding: 0px !important;
}

.status-bar {
  margin: 0px 0px 0px 0px;
  padding: 1px 1px 0px 0px;
}

.status-bar-item.plugin-word-count {
  padding: 50px;
  margin: 1px;
}

.workspace-leaf-content {
  width: 103%;
} 

/* Shrinks margins on left and right of the entire nav panel */

.workspace-split.mod-left-split, .workspace-split.mod-right-split {
  margin: 0 -4px 0 -6;

